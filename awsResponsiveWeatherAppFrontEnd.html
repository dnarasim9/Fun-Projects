<!DOCTYPE html>
<html lang="en">
<head>
  <title>Weather Forecast</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/jquery.validate.min.js"></script>    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/jquery.validate.js"></script>

  <script src="http://openweathermap.org/js/OWM.OpenLayers.1.3.4.js" ></script>
  <script src="http://openlayers.org/api/OpenLayers.js"> </script>
  <script src='http://connect.facebook.net/en_US/all.js'></script>

    <style>

		@media(max-width:767px){
			.next7DaysVisualWell {
				margin: 5px 0px;
			}
		}
		@media(min-width:768px){
			.next7DaysVisualWell {
				margin: 5px 0px;
			}
		}
		@media(min-width:992px){
			.next7DaysVisualWell {
				margin: 10px 5px;
			}
		}
		@media(min-width:1200px){
			.next7DaysVisualWell {
				margin: 10px 5px;
			}
		}

		.formdiv {
			background: rgba(0,0,0,.3);
			border-color:rgba(220, 220, 220, 0);
			opacity: 1;
			height: block;
		}


		#basicMap {
			height : 437px;
		}

        	#asterisk{
            		color: red;
        	}
        	#label{
            color: white;
        }
        .err{
            color: red;
        }

        #messages{
           color:red;
       	}

       	label.error{
           color: red;
       	}

       	#next24HourTableData{
            text-align: center;
        }

		.nav-tabs > li.active > a {
           background-color: #367DB5 !important;
           color: white;
       	}

    </style>
    <script>


    $(document).ready(function () {

  
            validator=$('#myform').validate({
                rules: {
                    address: {
                       required: true                       
                    },
    
                    city: {
                        required: true                       
                    },

                    state: {
                        required: true
                    }
                },


                messages: {
                    address: {
                        required:"Please enter the street address"
                    },

                    city: {
                        required:"Please enter the city"
                    },

                    state: {
                        required: "Please select a state"
                    }
 
                }
            });
        });


        

        $(function() {


            $("#search").click(function() {                

                var address = $("#address").val();
                var city = $("#city").val();
                var state = $("#state").val();
                var reg=/[^\s]/;

                if(!$("#myform").valid())
                {

                    return false;
                }

            else
                {
                    console.log("Ajax call");
                    $.ajax({
                                    type: 'GET',
                                    url: 'index.php',
                                    dataType: 'json',

					data: {
						street : $("#address").val(),
						city : $("#city").val(),
						state : $("#state").val(),
						degree : $("input[name=degree]:checked").val()
					},

					success: function(output){
						console.log("Success function");
						console.log(output);

                        $('#forecastResultsDiv').show();
						$('#weatherTabs a[href="#rightNow"]').tab('show');

						var rightNowIcon = "";
						switch(output.currently.icon)
						{
                                    case 'clear-day': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='100' width='100'>"; break;
                                    case 'clear-night': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='100' width='100'>"; break;
                                    case 'rain': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/rain.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='100' width='100'>"; break;
                                    case 'snow': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/snow.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                                    case 'sleet': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                                    case 'wind': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/wind.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                                    case 'fog':     rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/fog.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                                    case 'cloudy': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                                    case 'partly-cloudy-day': rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                                    case 'partly-cloudy-night':     rightNowIcon="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png' title='" + output.currently.summary + "' alt='"+ output.currently.summary +"' length='125' width='125'>"; break;
                        }

						if($('input[name=degree]:checked').val() == "Fahrenheit") {
						console.log($('input[name=degree]:checked').val());

						var precipIntensityF = "";
							if(output.currently.precipIntensity >= 0 && output.currently.precipIntensity < 0.002) precipIntensityF = "None";
							else if(output.currently.precipIntensity >= 0.002 && output.currently.precipIntensity < 0.017) precipIntensityF = "Very Light";
							else if(output.currently.precipIntensity >= 0.017 && output.currently.precipIntensity < 0.1) precipIntensityF = "Light";
							else if(output.currently.precipIntensity >= 0.1 && output.currently.precipIntensity < 0.4) precipIntensityF = "Moderate";
							else if(output.currently.precipIntensity >= 0.4) precipIntensityF = "Heavy";

						var time = output.daily.data[0].sunriseTime;
						var time1 = output.daily.data[0].sunsetTime;
						console.log(time);



$("#rightNowVisual").html(
								'<div class="row" style="background: #F17D7E">' +
								'<center>' +
									'<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">' +
										rightNowIcon +
									'</div>' +
									'<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">' +
'<span style="color: white;"><b>' + output.currently.summary + ' in ' + $("#city").val() +', '+ $("#state").val() + '</b></span><br><span style="color: white; font-size: 50px;"><b>' + Math.round(output.currently.temperature) +'<span style="font-size: 15px; vertical-align: text-top;">&deg F</span></b></span><br><div id="fb-root"><span style="color: blue;">'+ 'L: ' + Math.round(output.daily.data[0].temperatureMin) + '&deg</span> | <span style="color: green"> H: '+ Math.round(output.daily.data[0].temperatureMax) + '&deg</span>&nbsp;&nbsp' + '<span><img src="http://cs-server.usc.edu:45678/hw/hw8/images/fb_icon.png"; length=40; width=40; id="fbTestBtn"></span><p id="msg"></p></div>' +'</div>'+

									'</div>' +

								'</center>' +
								'<div>' +
								'<div class="row">' +
									'<div class="table-responsive"><table class="table table-striped">'+
										'<tr><td>Precipitation</td><td>' + precipIntensityF + '</td></tr>'+
										'<tr style="background: #F1DDDD"><td>Chance of Rain</td><td>' + Math.round(output.currently.precipProbability * 100) + ' %</td></tr>'+
										'<tr><td>Wind Speed</td><td>' + (output.currently.windSpeed).toFixed(2) + ' mph</td></tr>'+
										'<tr style="background: #F1DDDD"><td>Dew Point</td><td>' + (output.currently.dewPoint).toFixed(2) + '&deg F</td></tr>'+
										'<tr><td>Humidity</td><td>' + Math.round(output.currently.humidity * 100) + ' %</td></tr>'+
										'<tr style="background: #F1DDDD"><td>Visibility</td><td>' + (output.currently.visibility).toFixed(2) + ' mi</td></tr>'+
										'<tr><td>Sunrise</td><td>' + timeFormatter(output.daily.data[0].sunriseTime) + '</td></tr>'+
										'<tr style="background: #F1DDDD"><td>Sunset</td><td>' + timeFormatter(output.daily.data[0].sunsetTime) + '</td></tr>'+
									'</table></div>' +
								'</div>'
							);

if($('#weatherTabs li.active').text() == "Right Now") {
								$('#fbTestBtn').click(function(e){
									console.log("fb button was clicked");

									var fbpicture = "";
									switch(output.currently.icon)
									{
										case 'clear-day': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/clear.png'; break;
										case 'clear-night': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png'; break;
										case 'rain': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/rain.png'; break;
										case 'snow': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/snow.png'; break;
										case 'sleet': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png'; break;
										case 'wind': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/wind.png'; break;
										case 'fog':	fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/fog.png'; break;
										case 'cloudy': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png'; break;
										case 'partly-cloudy-day': fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png'; break;
										case 'partly-cloudy-night':	fbpicture='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png'; break;
									}

									var fbname = 'Current Weather in ' + $("#city").val() +', '+ $("#state").val();
									var fbdesc = output.currently.summary + ', ' + Math.round(output.currently.temperature) + '\xB0F';

									console.log("fbpicture - " + fbpicture + " fbname - " + fbname + " fbdesc - " + fbdesc);
									FB.init({appId: "1705808262988350", status: true, cookie: true});
									postToFeed(fbpicture, fbname, fbdesc);
								});

								$('#rightNowMap').html('<div id="basicMap"></div>');
								createMap(output.latitude, output.longitude);
								console.log($('#weatherTabs li.active').text());
							}



var next24HourVisual = '<div class="table-responsive"><table class="table table-striped" id="next24HourTableData"><tr style="background-color:#367DB5; text-align:center" id="next24HourTableHeaderRow"><th style="color: white;text-align:center">Time</th><th style="color: white;text-align:center">Summary</th><th style="color: white;text-align:center">Cloud Cover</th><th style="color: white;text-align:center">Temp (&degF)</th><th style="color: white;text-align:center">View Details</th></tr>';

							for(var i = 1; i < 25; i++) {
								console.log(i);

								var icon24Hour = "";
								switch(output.hourly.data[i].icon)
								{
									case 'clear-day': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>";	break;
									case 'clear-night': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'rain': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/rain.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'snow': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/snow.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'sleet': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'wind': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/wind.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'fog':	icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/fog.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'cloudy': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'partly-cloudy-day': icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
									case 'partly-cloudy-night':	icon24Hour="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png' title='" + output.hourly.data[i].summary + "' alt='"+ output.hourly.data[i].summary +"' length='30' width='30'>"; break;
								}

								next24HourVisual += '<tr style="background: white;"><td>' + timeFormatter(output.hourly.data[i].time) + '</td><td>' + icon24Hour + '</td><td>' + (output.hourly.data[i].cloudCover * 100).toFixed(0) + '%</td><td>' + output.hourly.data[i].temperature + '</td><td><span class="glyphicon glyphicon-plus" style="color: #3071A9" data-toggle="collapse" data-target="#viewDetail'+ i +'" aria-expanded="false" aria-controls="viewDetail'+ i +'" aria-hidden="true"></span></td></tr>';
								next24HourVisual += '<tr style="background: #F9F9F9;" class="collapse" id="viewDetail'+ i +'"><td colspan="5">';
								next24HourVisual += '<div class="table-responsive"><table class="table table-striped"><tr style="background: white;"><th style="text-align:center">Wind</th><th style="text-align:center">Humidity</th><th style="text-align:center">Visibility</th><th style="text-align:center">Pressure</th></tr>';
								next24HourVisual += '<tr style="background: #F9F9F9;"><td>' + (output.hourly.data[i].windSpeed).toFixed(2) + ' mph</td><td>' + Math.round(output.hourly.data[i].humidity * 100) + ' %</td><td>' + (output.hourly.data[i].visibility).toFixed(2) + ' mi</td><td>' + output.hourly.data[i].pressure + ' mb</td></tr>';
								next24HourVisual += '</table></div>';
								next24HourVisual += '</td></tr>';
							}
							next24HourVisual += '</table></div>';
							$("#next24HoursVisual").html(next24HourVisual);




var next7DaysVisual = "";
							next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1"></div><div class="col-xs-12 col-sm-12 col-md-1 col-lg-1"></div>'
                                                        for(var j = 1; j < 8; j++) {

                                                                var icon7days = "";
                                                                switch(output.daily.data[j].icon)
                                                                {
                                                                        case 'clear-day': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>";    break;
                                                                        case 'clear-night': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'rain': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/rain.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'snow': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/snow.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'sleet': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'wind': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/wind.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'fog':     icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/fog.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'cloudy': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'partly-cloudy-day': icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                        case 'partly-cloudy-night':     icon7days="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='30' width='30'>"; break;
                                                                }

                                                                var icon7daysModal = "";
                                                                switch(output.daily.data[j].icon)
                                                                {
                                                                        case 'clear-day': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>";     break;
                                                                        case 'clear-night': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'rain': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/rain.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'snow': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/snow.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'sleet': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'wind': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/wind.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'fog':     icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/fog.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'cloudy': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'partly-cloudy-day': icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;
                                                                        case 'partly-cloudy-night':     icon7daysModal="<img src='http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png' title='"+ output.daily.data[j].summary +"' alt='"+ output.daily.data[j].summary +"' length='125' width='125'>"; break;    
                                                                }

                                                                var visibility7Days = "N.A.";
                                                                if (output.daily.data[j].visibility != undefined) {
                                                                        visibility7Days = (output.daily.data[j].visibility).toFixed(2) + ' mi';
                                                                }
                                                                if(j==1){
                                                                    next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#367DB5;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';

                                                                }
                                                                else if(j==2){
                                                                    next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#EC4444;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';

                                                                }
                                                                 else if(j==3){
                                                                    next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#E68E4F;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';

                                                                }
                                                                else if(j==4){
                                                                    next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#A7A439;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';

                                                                }
                                                                else if(j==5){
                                                                    next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#9770A7;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';

                                                                }
                                                                else if(j==6){
                                                                    next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#F37C7E;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';

                                                                }
                                                                else if(j==7){
                                                                next7DaysVisual += '<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 next7DaysTab" style="border-radius: 5px; padding-left: 0; padding-right:0;background-color:#CE4571;" id="next7Hours'+ j +'" data-toggle="modal" data-target="#myModal'+j+'"><center>' + '<span style="color: white; font-size:13px;"><b>' + getTimeStampDay(output.daily.data[j].time)+ '</b></span>' +'<br><br><span style="color: white; font-size:13px;"><b>'+ getTimeStampMonthDate(output.daily.data[j].time) +'</b></span><br><br>'+ icon7days +'<br><br><span style="color: white; font-size:13px;"> Min <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMin +'&deg</span><br><br><span style="color: white; font-size:13px;"> Max <br> Temp </span><br><br><span style="color: white; font-size:20px;"><b>'+ output.daily.data[j].temperatureMax + '&deg</b></span></center></div>';
                                                            }

                                                                next7DaysVisual += '<div class="modal fade" id="myModal'+j+'" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">';
                                                                next7DaysVisual +=   '<div class="modal-dialog" role="document">';
                                                                next7DaysVisual +=      '<div class="modal-content">';
                                                                next7DaysVisual +=        '<div class="modal-header">';
                                                               next7DaysVisual +=              '<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>';
                                                                next7DaysVisual +=              '<h4 class="modal-title" id="myModalLabel">Weather in '+ $("#city").val() + ' on ' + getTimeStampMonthDate(output.daily.data[j].time) +'</h4>';
                                                                next7DaysVisual +=        '</div>';
                                                                next7DaysVisual +=        '<div class="modal-body">';
                                                                next7DaysVisual +=              '<center>' + icon7daysModal + '<br><span style="font-size: 30px;">' + getTimeStampDay(output.daily.data[j].time) + ': <span style="color: #FEA502;">' + output.daily.data[j].summary + '</span></span></center>';
                                                                next7DaysVisual +=      '<div class="row">';
                                                                next7DaysVisual +=              '<center>';
                                                                next7DaysVisual +=                      '<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">';
                                                                next7DaysVisual +=                              '<span style="font-size: 20px;"><b> Sunrise Time </b></span><br><span>' + timeFormatter(output.daily.data[j].sunriseTime) + '</span>';
                                                                next7DaysVisual +=                      '</div>';
                                                                next7DaysVisual +=                      '<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">';
                                                                next7DaysVisual +=                              '<span style="font-size: 20px;"><b> Sunset Time </b></span><br><span>' + timeFormatter(output.daily.data[j].sunsetTime) + '</span>';
                                                                next7DaysVisual +=                      '</div>';
                                                                next7DaysVisual +=                      '<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">';
                                                                next7DaysVisual +=                              '<span style="font-size: 20px;"><b> Humidity </b></span><br><span>' + Math.round(output.daily.data[j].humidity * 100) + ' %</span>';
                                                                next7DaysVisual +=                      '</div>';
                                                                next7DaysVisual +=              '</center>';
                                                                next7DaysVisual +=              '</div>';
                                                                next7DaysVisual +=              '<div class="row">';
                                                                next7DaysVisual +=              '<center>';
 								
